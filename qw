#! /usr/bin/env python
import sys

from optparse import OptionParser

from modules.hosts import get_host_analyzer
from modules.summary import full_summary

def opts() :
    parser = OptionParser("usage: %prog [options]")
    parser.add_option("--local-debug", dest="local_debug",
                      default=None, metavar="Q",
                      help="use text files instead of calling status commands")
    parser.add_option("--watch", dest="watch", default=None, metavar="N",
                      help="show status every N seconds")
    options,args = parser.parse_args()
    return options, args

if __name__=="__main__":
    options, args = opts()
    HostQAnalyzer = get_host_analyzer()
    QAnalyzer = HostQAnalyzer()
    full_summary(QAnalyzer)
